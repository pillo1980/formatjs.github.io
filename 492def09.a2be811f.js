(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{116:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u}));var n=a(0),i=a.n(n);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var c=i.a.createContext({}),b=function(e){var t=i.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=b(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=b(a),d=n,u=p["".concat(o,".").concat(d)]||p[d]||m[d]||r;return a?i.a.createElement(u,s(s({ref:t},c),{},{components:a})):i.a.createElement(u,s({ref:t},c))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,o[1]=s;for(var c=2;c<r;c++)o[c]=a[c];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},80:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return l})),a.d(t,"default",(function(){return b}));var n=a(3),i=a(7),r=(a(0),a(116)),o={id:"api",title:"Imperative API"},s={unversionedId:"react-intl/api",id:"react-intl/api",isDocsHomePage:!1,title:"Imperative API",description:"There are a few API layers that React Intl provides and is built on. When using React Intl you'll be interacting with its API (documented here) and its React components.",source:"@site/docs/react-intl/api.md",slug:"/react-intl/api",permalink:"/docs/react-intl/api",editUrl:"https://github.com/formatjs/formatjs/edit/main/website/docs/react-intl/api.md",version:"current",sidebar:"api",previous:{title:"Components",permalink:"/docs/react-intl/components"},next:{title:"Upgrade Guide (v4 -> v5)",permalink:"/docs/react-intl/upgrade-guide-5x"}},l=[{value:"Why Imperative API?",id:"why-imperative-api",children:[]},{value:"The <code>intl</code> object",id:"the-intl-object",children:[]},{value:"useIntl hook",id:"useintl-hook",children:[]},{value:"injectIntl HOC",id:"injectintl-hoc",children:[]},{value:"createIntl",id:"createintl",children:[]},{value:"IntlShape",id:"intlshape",children:[{value:"locale, formats, and messages",id:"locale-formats-and-messages",children:[]},{value:"defaultLocale and defaultFormats",id:"defaultlocale-and-defaultformats",children:[]},{value:"textComponent",id:"textcomponent",children:[]},{value:"onError",id:"onerror",children:[]},{value:"wrapRichTextChunksInFragment",id:"wraprichtextchunksinfragment",children:[]},{value:"defaultRichTextElements",id:"defaultrichtextelements",children:[]}]},{value:"formatDate",id:"formatdate",children:[]},{value:"formatTime",id:"formattime",children:[]},{value:"formatDateTimeRange",id:"formatdatetimerange",children:[]},{value:"formatRelativeTime",id:"formatrelativetime",children:[]},{value:"formatNumber",id:"formatnumber",children:[]},{value:"formatPlural",id:"formatplural",children:[]},{value:"formatList",id:"formatlist",children:[]},{value:"formatDisplayName",id:"formatdisplayname",children:[]},{value:"formatMessage",id:"formatmessage",children:[{value:"Message Syntax",id:"message-syntax",children:[]},{value:"Message Descriptor",id:"message-descriptor",children:[]},{value:"Message Formatting Fallbacks",id:"message-formatting-fallbacks",children:[]},{value:"Usage",id:"usage",children:[]}]},{value:"defineMessages/defineMessage",id:"definemessagesdefinemessage",children:[]}],c={rightToc:l};function b(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"There are a few API layers that React Intl provides and is built on. When using React Intl you'll be interacting with its API (documented here) and its React ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/react-intl/components"}),"components"),"."),Object(r.b)("h2",{id:"why-imperative-api"},"Why Imperative API?"),Object(r.b)("p",null,"While our ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/react-intl/components"}),"components")," provide a seamless integration with React, the imperative API are recommended (sometimes required) in several use cases:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Setting text attributes such as ",Object(r.b)("inlineCode",{parentName:"li"},"title"),", ",Object(r.b)("inlineCode",{parentName:"li"},"aria-label")," and the like where a React component cannot be used (e.g ",Object(r.b)("inlineCode",{parentName:"li"},"<img title/>"),")"),Object(r.b)("li",{parentName:"ul"},"Formatting text/datetime... in non-React environment such as Node, Server API, Redux store, testing..."),Object(r.b)("li",{parentName:"ul"},"High performance scenarios where the number of React components rendered becomes the bottleneck (e.g Finance stock portfolio rendering, virtual tables with a lot of cells...)")),Object(r.b)("h2",{id:"the-intl-object"},"The ",Object(r.b)("inlineCode",{parentName:"h2"},"intl")," object"),Object(r.b)("p",null,"The core of ",Object(r.b)("inlineCode",{parentName:"p"},"react-intl")," is the ",Object(r.b)("inlineCode",{parentName:"p"},"intl")," object (of type ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#intlshape"}),Object(r.b)("inlineCode",{parentName:"a"},"IntlShape")),"), which is the instance to store a cache of all ",Object(r.b)("inlineCode",{parentName:"p"},"Intl.*")," APIs, configurations, compiled messages and such. The lifecycle of the ",Object(r.b)("inlineCode",{parentName:"p"},"intl")," object is typically tied to the ",Object(r.b)("inlineCode",{parentName:"p"},"locale")," & the list of ",Object(r.b)("inlineCode",{parentName:"p"},"messages")," that it contains, which means when you switch ",Object(r.b)("inlineCode",{parentName:"p"},"locale"),", this object should be recreated."),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"The ",Object(r.b)("inlineCode",{parentName:"p"},"intl")," object should be reused as much as possible for performance."))),Object(r.b)("p",null,"There are a few ways to get access to the ",Object(r.b)("inlineCode",{parentName:"p"},"intl")," object:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"useIntl")," hook: Once you've declared your ",Object(r.b)("inlineCode",{parentName:"li"},"IntlProvider"),", you can get access to the ",Object(r.b)("inlineCode",{parentName:"li"},"intl")," object via calling this hook in your functional React component"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"injectIntl")," HOC: In ",Object(r.b)("inlineCode",{parentName:"li"},"class"),"-based React components, you can wrap them with the ",Object(r.b)("inlineCode",{parentName:"li"},"injectIntl")," HOC and ",Object(r.b)("inlineCode",{parentName:"li"},"intl")," should be available as a ",Object(r.b)("inlineCode",{parentName:"li"},"prop"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"createIntl"),": In a non-React environment (Node, vue, angular, testing... you name it), you can directly create a ",Object(r.b)("inlineCode",{parentName:"li"},"intl")," object by calling this function with the same configuration as the ",Object(r.b)("inlineCode",{parentName:"li"},"IntlProvider"),".")),Object(r.b)("h2",{id:"useintl-hook"},"useIntl hook"),Object(r.b)("p",null,"If a component can be expressed in a form of function component, using ",Object(r.b)("inlineCode",{parentName:"p"},"useIntl")," hook can be handy. This ",Object(r.b)("inlineCode",{parentName:"p"},"useIntl")," hook does not expect any option as its argument when being called. Typically, here is how you would like to use:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"import React from 'react'\nimport {useIntl, FormattedDate} from 'react-intl'\n\nconst FunctionComponent: React.FC<{date: number | Date}> = ({date}) => {\n  const intl = useIntl()\n  return (\n    <span title={intl.formatDate(date)}>\n      <FormattedDate value={date} />\n    </span>\n  )\n}\n\nexport default FunctionComponent\n")),Object(r.b)("p",null,"To keep the API surface clean and simple, we only provide ",Object(r.b)("inlineCode",{parentName:"p"},"useIntl")," hook in the package. If preferable, user can wrap this built-in hook to make customized hook like ",Object(r.b)("inlineCode",{parentName:"p"},"useFormatMessage")," easily. Please visit React's official website for more general ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://reactjs.org/docs/hooks-intro.html"}),"introduction on React hooks"),"."),Object(r.b)("h2",{id:"injectintl-hoc"},"injectIntl HOC"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"type WrappedComponentProps<IntlPropName extends string = 'intl'> = {\n  [k in IntlPropName]: IntlShape\n}\n\ntype WithIntlProps<P> = Omit<P, keyof WrappedComponentProps> & {\n  forwardedRef?: React.Ref<any>\n}\n\nfunction injectIntl<\n  IntlPropName extends string = 'intl',\n  P extends WrappedComponentProps<IntlPropName> = WrappedComponentProps<any>\n>(\n  WrappedComponent: React.ComponentType<P>,\n  options?: Opts<IntlPropName>\n): React.ComponentType<WithIntlProps<P>> & {\n  WrappedComponent: typeof WrappedComponent\n}\n")),Object(r.b)("p",null,"This function is exported by the ",Object(r.b)("inlineCode",{parentName:"p"},"react-intl")," package and is a High-Order Component (HOC) factory. It will wrap the passed-in React component with another React component which provides the imperative formatting API into the wrapped component via its ",Object(r.b)("inlineCode",{parentName:"p"},"props"),". (This is similar to the connect-to-stores pattern found in many Flux implementations.)"),Object(r.b)("p",null,"By default, the formatting API will be provided to the wrapped component via ",Object(r.b)("inlineCode",{parentName:"p"},"props.intl"),", but this can be overridden when specifying ",Object(r.b)("inlineCode",{parentName:"p"},"options.intlPropName"),". The value of the prop will be of type ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#Intlshape"}),Object(r.b)("inlineCode",{parentName:"a"},"IntlShape")),", defined in the next section."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"import React, {PropTypes} from 'react'\nimport {injectIntl, FormattedDate} from 'react-intl'\n\ninterface Props {\n  date: Date | number\n}\n\nconst FunctionalComponent: React.FC<Props> = props => {\n  const {\n    date,\n    intl, // Injected by `injectIntl`\n  } = props\n  return (\n    <span title={intl.formatDate(date)}>\n      <FormattedDate value={date} />\n    </span>\n  )\n}\n\nexport default injectIntl(FunctionalComponent)\n")),Object(r.b)("h2",{id:"createintl"},"createIntl"),Object(r.b)("p",null,"This allows you to create an ",Object(r.b)("inlineCode",{parentName:"p"},"IntlShape")," object without using ",Object(r.b)("inlineCode",{parentName:"p"},"Provider"),". This allows you to format things outside of React lifecycle while reusing the same ",Object(r.b)("inlineCode",{parentName:"p"},"intl")," object. For example:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"import {createIntl, createIntlCache, RawIntlProvider} from 'react-intl'\n\n// This is optional but highly recommended\n// since it prevents memory leak\nconst cache = createIntlCache()\n\nconst intl = createIntl({\n  locale: 'fr-FR',\n  messages: {}\n}, cache)\n\n// Call imperatively\nintl.formatNumber(20)\n\n// Pass it to IntlProvider\n<RawIntlProvider value={intl}>{foo}</RawIntlProvider>\n")),Object(r.b)("h2",{id:"intlshape"},"IntlShape"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"interface IntlConfig {\n  locale: string\n  timeZone?: string\n  formats: CustomFormats\n  textComponent?: React.ComponentType | keyof React.ReactHTML\n  messages: Record<string, string> | Record<string, MessageFormatElement[]>\n  defaultLocale: string\n  defaultFormats: CustomFormats\n  onError(err: string): void\n}\n\ninterface IntlFormatters {\n  formatDate(value: number | Date, opts: FormatDateOptions): string\n  formatTime(value: number | Date, opts: FormatDateOptions): string\n  formatDateTimeRange(\n    from: number | Date,\n    to: number | Date,\n    opts: FormatDateOptions\n  ): string\n  formatRelativeTime(\n    value: number,\n    unit: Unit,\n    opts: FormatRelativeOptions\n  ): string\n  formatNumber(value: number, opts: FormatNumberOptions): string\n  formatPlural(value: number, opts: FormatPluralOptions): string\n  formatMessage(descriptor: MessageDescriptor, values: any): string\n}\n\ntype IntlShape = IntlConfig & IntlFormatters\n")),Object(r.b)("p",null,"This interface is exported by the ",Object(r.b)("inlineCode",{parentName:"p"},"react-intl")," package that can be used in conjunction with the ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#injectintl"}),Object(r.b)("inlineCode",{parentName:"a"},"injectIntl"))," HOC factory function."),Object(r.b)("p",null,"The definition above shows what the ",Object(r.b)("inlineCode",{parentName:"p"},"props.intl")," object will look like that's injected to your component via ",Object(r.b)("inlineCode",{parentName:"p"},"injectIntl"),". It's made up of two parts:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"IntlConfig"),":")," The intl metadata passed as props into the parent ",Object(r.b)("inlineCode",{parentName:"li"},"<IntlProvider>"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"IntlFormatters"),":")," The imperative formatting API described below.")),Object(r.b)("h3",{id:"locale-formats-and-messages"},"locale, formats, and messages"),Object(r.b)("p",null,"The user's current locale and what the app should be rendered in. While ",Object(r.b)("inlineCode",{parentName:"p"},"defaultLocale")," and ",Object(r.b)("inlineCode",{parentName:"p"},"defaultFormats")," are for fallbacks or during development and represent the app's default. Notice how there is no ",Object(r.b)("inlineCode",{parentName:"p"},"defaultMessages"),", that's because each ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#message-descriptor"}),"Message Descriptor")," provides a ",Object(r.b)("inlineCode",{parentName:"p"},"defaultMessage"),"."),Object(r.b)("h3",{id:"defaultlocale-and-defaultformats"},"defaultLocale and defaultFormats"),Object(r.b)("p",null,"Default locale & formats for when a message is not translated (missing from ",Object(r.b)("inlineCode",{parentName:"p"},"messages"),"). ",Object(r.b)("inlineCode",{parentName:"p"},"defaultLocale")," should be the locale that ",Object(r.b)("inlineCode",{parentName:"p"},"defaultMessage"),"s are declared in so that a sentence is coherent in a single locale. Without ",Object(r.b)("inlineCode",{parentName:"p"},"defaultLocale")," and/or if it's set incorrectly, you might run into scenario where a sentence is in English but embeded date/time is in Spanish."),Object(r.b)("h3",{id:"textcomponent"},"textComponent"),Object(r.b)("p",null,"Provides a way to configure the default wrapper for React Intl's ",Object(r.b)("inlineCode",{parentName:"p"},"<Formatted*>")," components. If not specified, ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://reactjs.org/docs/fragments.html"}),Object(r.b)("inlineCode",{parentName:"a"},"<React.Fragment>"))," is used. Before V3, ",Object(r.b)("inlineCode",{parentName:"p"},"span")," was used instead; check the ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/react-intl/upgrade-guide-3x"}),"migration guide")," for more info."),Object(r.b)("h3",{id:"onerror"},"onError"),Object(r.b)("p",null,"Allows the user to provide a custom error handler. By default, error messages are logged using ",Object(r.b)("inlineCode",{parentName:"p"},"console.error")," if ",Object(r.b)("inlineCode",{parentName:"p"},"NODE_ENV")," is not set to ",Object(r.b)("inlineCode",{parentName:"p"},"production"),"."),Object(r.b)("h3",{id:"wraprichtextchunksinfragment"},"wrapRichTextChunksInFragment"),Object(r.b)("p",null,"When formatting rich text message, the output we produced is of type ",Object(r.b)("inlineCode",{parentName:"p"},"Array<string | React.ReactElement>"),", which will trigger key error. This wraps the output in a single ",Object(r.b)("inlineCode",{parentName:"p"},"React.Fragment")," to suppress that."),Object(r.b)("h3",{id:"defaultrichtextelements"},"defaultRichTextElements"),Object(r.b)("p",null,"A map of tag to rich text formatting function. This is meant to provide a centralized way to format common tags such as ",Object(r.b)("inlineCode",{parentName:"p"},"<b>"),", ",Object(r.b)("inlineCode",{parentName:"p"},"<p>"),"... or enforcing certain Design System in the codebase (e.g standardized ",Object(r.b)("inlineCode",{parentName:"p"},"<a>")," or ",Object(r.b)("inlineCode",{parentName:"p"},"<button>"),"...). See ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/formatjs/formatjs/issues/1752"}),"https://github.com/formatjs/formatjs/issues/1752")," for more context."),Object(r.b)("h2",{id:"formatdate"},"formatDate"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"function formatDate(\n  value: number | Date,\n  options?: Intl.DateTimeFormatOptions & {format?: string}\n): string\n")),Object(r.b)("p",null,"This function will return a formatted date string. It expects a ",Object(r.b)("inlineCode",{parentName:"p"},"value")," which can be parsed as a date (i.e., ",Object(r.b)("inlineCode",{parentName:"p"},"isFinite(new Date(value))"),"), and accepts ",Object(r.b)("inlineCode",{parentName:"p"},"options")," that conform to ",Object(r.b)("inlineCode",{parentName:"p"},"DateTimeFormatOptions"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"intl.formatDate(Date.now(), {\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric',\n})\n")),Object(r.b)("h2",{id:"formattime"},"formatTime"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"function formatTime(\n  value: number | Date,\n  options?: Intl.DateTimeFormatOptions & {format?: string}\n): string\n")),Object(r.b)("p",null,"This function will return a formatted date string, but it differs from ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#formatdate"}),Object(r.b)("inlineCode",{parentName:"a"},"formatDate"))," by having the following default options:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"{\n    hour: 'numeric',\n    minute: 'numeric',\n}\n")),Object(r.b)("p",null,"It expects a ",Object(r.b)("inlineCode",{parentName:"p"},"value")," which can be parsed as a date (i.e., ",Object(r.b)("inlineCode",{parentName:"p"},"isFinite(new Date(value))"),"), and accepts ",Object(r.b)("inlineCode",{parentName:"p"},"options")," that conform to ",Object(r.b)("inlineCode",{parentName:"p"},"DateTimeFormatOptions"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),'intl.formatTime(Date.now()) /* "4:03 PM" */\n')),Object(r.b)("h2",{id:"formatdatetimerange"},"formatDateTimeRange"),Object(r.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"browser support")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This requires stage-3 API ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/tc39/proposal-intl-DateTimeFormat-formatRange"}),"Intl.RelativeTimeFormat.prototype.formatRange")," which has limited browser support. Please use our ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/polyfills/intl-datetimeformat"}),"polyfill")," if you plan to support them."))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"function formatDateTimeRange(\n  from: number | Date,\n  to: number | Date,\n  options?: Intl.DateTimeFormatOptions & {format?: string}\n): string\n")),Object(r.b)("p",null,"This function will return a formatted date/time range string"),Object(r.b)("p",null,"It expects 2 values (a ",Object(r.b)("inlineCode",{parentName:"p"},"from")," Date & a ",Object(r.b)("inlineCode",{parentName:"p"},"to")," Date) and accepts ",Object(r.b)("inlineCode",{parentName:"p"},"options")," that conform to ",Object(r.b)("inlineCode",{parentName:"p"},"DateTimeFormatOptions"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatDateTimeRange(new Date('2020-1-1'), new Date('2020-1-15'))\n")),Object(r.b)("h2",{id:"formatrelativetime"},"formatRelativeTime"),Object(r.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"browser support")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This requires ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/RelativeTimeFormat"}),"Intl.RelativeTimeFormat")," which has limited browser support. Please use our ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/polyfills/intl-relativetimeformat"}),"polyfill")," if you plan to support them."))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"type Unit =\n  | 'second'\n  | 'minute'\n  | 'hour'\n  | 'day'\n  | 'week'\n  | 'month'\n  | 'quarter'\n  | 'year'\n\ntype RelativeTimeFormatOptions = {\n  numeric?: 'always' | 'auto'\n  style?: 'long' | 'short' | 'narrow'\n}\n\nfunction formatRelativeTime(\n  value: number,\n  unit: Unit,\n  options?: Intl.RelativeTimeFormatOptions & {\n    format?: string\n  }\n): string\n")),Object(r.b)("p",null,'This function will return a formatted relative time string (e.g., "1 hour ago"). It expects a ',Object(r.b)("inlineCode",{parentName:"p"},"value")," which is a number, a ",Object(r.b)("inlineCode",{parentName:"p"},"unit")," and ",Object(r.b)("inlineCode",{parentName:"p"},"options")," that conform to ",Object(r.b)("inlineCode",{parentName:"p"},"Intl.RelativeTimeFormatOptions"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatRelativeTime(0)\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatRelativeTime(-24, 'hour', {style: 'narrow'})\n")),Object(r.b)("h2",{id:"formatnumber"},"formatNumber"),Object(r.b)("p",null,"This function uses ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat"}),Object(r.b)("inlineCode",{parentName:"a"},"Intl.NumberFormat"))," options."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"function formatNumber(\n  value: number,\n  options?: Intl.NumberFormatOptions & {format?: string}\n): string\n")),Object(r.b)("p",null,"This function will return a formatted number string. It expects a ",Object(r.b)("inlineCode",{parentName:"p"},"value")," which can be parsed as a number, and accepts ",Object(r.b)("inlineCode",{parentName:"p"},"options")," that conform to ",Object(r.b)("inlineCode",{parentName:"p"},"NumberFormatOptions"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatNumber(1000, {style: 'currency', currency: 'USD'})\n")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Formatting Number using ",Object(r.b)("inlineCode",{parentName:"strong"},"unit"))),Object(r.b)("p",null,"Currently this is part of ES2020 ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://tc39.es/ecma402/#numberformat-objects"}),"NumberFormat"),".\nWe've provided a polyfill ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/polyfills/intl-numberformat"}),"here")," and ",Object(r.b)("inlineCode",{parentName:"p"},"react-intl")," types allow users to pass\nin a ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/polyfills/intl-numberformat#SupportedUnits"}),"sanctioned unit"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatNumber(1000, {\n  style: 'unit',\n  unit: 'kilobyte',\n  unitDisplay: 'narrow',\n})\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatNumber(1000, {\n  unit: 'fahrenheit',\n  unitDisplay: 'long',\n  style: 'unit',\n})\n")),Object(r.b)("h2",{id:"formatplural"},"formatPlural"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"type PluralFormatOptions = {\n  type?: 'cardinal' | 'ordinal' = 'cardinal'\n}\n\nfunction formatPlural(\n  value: number,\n  options?: Intl.PluralFormatOptions\n): 'zero' | 'one' | 'two' | 'few' | 'many' | 'other'\n")),Object(r.b)("p",null,"This function will return a plural category string: ",Object(r.b)("inlineCode",{parentName:"p"},'"zero"'),", ",Object(r.b)("inlineCode",{parentName:"p"},'"one"'),", ",Object(r.b)("inlineCode",{parentName:"p"},'"two"'),", ",Object(r.b)("inlineCode",{parentName:"p"},'"few"'),", ",Object(r.b)("inlineCode",{parentName:"p"},'"many"'),", or ",Object(r.b)("inlineCode",{parentName:"p"},'"other"'),". It expects a ",Object(r.b)("inlineCode",{parentName:"p"},"value")," which can be parsed as a number, and accepts ",Object(r.b)("inlineCode",{parentName:"p"},"options")," that conform to ",Object(r.b)("inlineCode",{parentName:"p"},"PluralFormatOptions"),"."),Object(r.b)("p",null,"This is a low-level utility whose output could be provided to a ",Object(r.b)("inlineCode",{parentName:"p"},"switch")," statement to select a particular string to display."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatPlural(1)\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatPlural(3, {style: 'ordinal'})\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatPlural(4, {style: 'ordinal'})\n")),Object(r.b)("div",{className:"admonition admonition-danger alert alert--danger"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"multiple language support")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This function should only be used in apps that only need to support one language. If your app supports multiple languages use ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#formatmessage"}),Object(r.b)("inlineCode",{parentName:"a"},"formatMessage"))," instead."))),Object(r.b)("h2",{id:"formatlist"},"formatList"),Object(r.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"browser support")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This requires ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/ListFormat"}),"Intl.ListFormat")," which has limited browser support. Please use our ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/polyfills/intl-listformat"}),"polyfill")," if you plan to support them."))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"type ListFormatOptions = {\n  type?: 'disjunction' | 'conjunction' | 'unit'\n  style?: 'long' | 'short' | 'narrow'\n}\n\nfunction formatList(\n  elements: (string | React.ReactNode)[],\n  options?: Intl.ListFormatOptions\n): string | React.ReactNode[]\n")),Object(r.b)("p",null,"This function allows you to join list of things together in an i18n-safe way. For example, when the locale is ",Object(r.b)("inlineCode",{parentName:"p"},"en"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatList(['Me', 'myself', 'I'], {type: 'conjunction'})\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx",metastring:"live",live:!0}),"intl.formatList(['5 hours', '3 minutes'], {type: 'unit'})\n")),Object(r.b)("h2",{id:"formatdisplayname"},"formatDisplayName"),Object(r.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"browser support")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"This requires ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DisplayNames"}),"Intl.DisplayNames")," which has limited browser support. Please use our ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/polyfills/intl-displaynames"}),"polyfill")," if you plan to support them."))),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"type FormatDisplayNameOptions = {\n  style?: 'narrow' | 'short' | 'long'\n  type?: 'language' | 'region' | 'script' | 'currency'\n  fallback?: 'code' | 'none'\n}\n\nfunction formatDisplayName(\n  value: string | number | object,\n  options?: FormatDisplayNameOptions\n): string | undefined\n")),Object(r.b)("p",null,"Usage examples:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"intl.formatDisplayName('zh-Hans-SG', {type: 'language'})\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"// ISO-15924 four letters script code to localized display name\nintl.formatDisplayName('Deva', {type: 'script'})\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"// ISO-4217 currency code to localized display name\nintl.formatDisplayName('CNY', {type: 'currency'})\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"// ISO-3166 two letters region code to localized display name\nintl.formatDisplayName('UN', {type: 'region'})\n")),Object(r.b)("h2",{id:"formatmessage"},"formatMessage"),Object(r.b)("h3",{id:"message-syntax"},"Message Syntax"),Object(r.b)("p",null,"String/Message formatting is a paramount feature of React Intl and it builds on ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"https://unicode-org.github.io/icu/userguide/format_parse/messages"}),"ICU Message Formatting")," by using the ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/core-concepts/icu-syntax"}),"ICU Message Syntax"),". This message syntax allows for simple to complex messages to be defined, translated, and then formatted at runtime."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Simple Message:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"Hello, {name}\n")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Complex Message:")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{}),"Hello, {name}, you have {itemCount, plural,\n    =0 {no items}\n    one {# item}\n    other {# items}\n}.\n")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"See:")," The ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/core-concepts/icu-syntax"}),"Message Syntax Guide"),"."),Object(r.b)("h3",{id:"message-descriptor"},"Message Descriptor"),Object(r.b)("p",null,"React Intl has a Message Descriptor concept which is used to define your app's default messages/strings and is passed into ",Object(r.b)("inlineCode",{parentName:"p"},"formatMessage"),". The Message Descriptors work very well for providing the data necessary for having the strings/messages translated, and they contain the following properties:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"id"),":")," A unique, stable identifier for the message"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"description"),":")," Context for the translator about how it's used in the UI"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},Object(r.b)("inlineCode",{parentName:"strong"},"defaultMessage"),":")," The default message (probably in English)")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-tsx"}),"type MessageDescriptor = {\n  id: string\n  defaultMessage?: string\n  description?: string | object\n}\n")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Extracting Message Descriptor")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"You can extract inline-declared messages from source files using ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/getting-started/message-extraction"}),"our CLI"),"."))),Object(r.b)("h3",{id:"message-formatting-fallbacks"},"Message Formatting Fallbacks"),Object(r.b)("p",null,"The message formatting APIs go the extra mile to provide fallbacks for the common situations where formatting fails; at the very least a non-empty string should always be returned. Here's the message formatting fallback algorithm:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Lookup and format the translated message at ",Object(r.b)("inlineCode",{parentName:"li"},"id"),", passed to ",Object(r.b)("inlineCode",{parentName:"li"},"<IntlProvider>"),"."),Object(r.b)("li",{parentName:"ol"},"Fallback to formatting the ",Object(r.b)("inlineCode",{parentName:"li"},"defaultMessage"),"."),Object(r.b)("li",{parentName:"ol"},"Fallback to source of translated message at ",Object(r.b)("inlineCode",{parentName:"li"},"id"),"."),Object(r.b)("li",{parentName:"ol"},"Fallback to source of ",Object(r.b)("inlineCode",{parentName:"li"},"defaultMessage"),"."),Object(r.b)("li",{parentName:"ol"},"Fallback to the literal message ",Object(r.b)("inlineCode",{parentName:"li"},"id"),".")),Object(r.b)("p",null,'Above, "source" refers to using the template as is, without any substitutions made.'),Object(r.b)("h3",{id:"usage"},"Usage"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"type MessageFormatPrimitiveValue = string | number | boolean | null | undefined\nfunction formatMessage(\n  descriptor: MessageDescriptor,\n  values?: Record<string, MessageFormatPrimitiveValue>\n): string\nfunction formatMessage(\n  descriptor: MessageDescriptor,\n  values?: Record<\n    string,\n    MessageFormatPrimitiveValue | React.ReactElement | FormatXMLElementFn\n  >\n): string | React.ReactNodeArray\n")),Object(r.b)("p",null,"This function will return a formatted message string. It expects a ",Object(r.b)("inlineCode",{parentName:"p"},"MessageDescriptor")," with at least an ",Object(r.b)("inlineCode",{parentName:"p"},"id")," property, and accepts a shallow ",Object(r.b)("inlineCode",{parentName:"p"},"values")," object which are used to fill placeholders in the message."),Object(r.b)("p",null,"If a translated message with the ",Object(r.b)("inlineCode",{parentName:"p"},"id")," has been passed to the ",Object(r.b)("inlineCode",{parentName:"p"},"<IntlProvider>")," via its ",Object(r.b)("inlineCode",{parentName:"p"},"messages")," prop it will be formatted, otherwise it will fallback to formatting ",Object(r.b)("inlineCode",{parentName:"p"},"defaultMessage"),". See: ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#message-formatting-fallbacks"}),"Message Formatting Fallbacks")," for more details."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"function () {\n  const messages = defineMessages({\n    greeting: {\n      id: 'app.greeting',\n      defaultMessage: 'Hello, {name}!',\n      description: 'Greeting to welcome the user to the app',\n    },\n  })\n\n  return intl.formatMessage(messages.greeting, {name: 'Eric'})\n}\n")),Object(r.b)("p",null,"with ",Object(r.b)("inlineCode",{parentName:"p"},"ReactElement")),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"function () {\n  const messages = defineMessages({\n    greeting: {\n      id: 'app.greeting',\n      defaultMessage: 'Hello, {name}!',\n      description: 'Greeting to welcome the user to the app',\n    },\n  })\n\n  return intl.formatMessage(messages.greeting, {name: <b>Eric</b>})\n}\n")),Object(r.b)("p",null,"with rich text formatting"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts",metastring:"live",live:!0}),"function () {\n  const messages = defineMessages({\n    greeting: {\n      id: 'app.greeting',\n      defaultMessage: 'Hello, <bold>{name}</bold>!',\n      description: 'Greeting to welcome the user to the app',\n    },\n  })\n\n  return intl.formatMessage(messages.greeting, {\n    name: 'Eric',\n    bold: str => <b>{str}</b>,\n  })\n}\n")),Object(r.b)("p",null,"The message we defined using ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#definemessages"}),Object(r.b)("inlineCode",{parentName:"a"},"defineMessages"))," to support extraction via ",Object(r.b)("inlineCode",{parentName:"p"},"babel-plugin-formatjs"),", but it doesn't have to be if you're not using the Babel plugin."),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"simple message")),Object(r.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Messages can be simple strings ",Object(r.b)("em",{parentName:"p"},"without")," placeholders, and that's the most common type of message."))),Object(r.b)("h2",{id:"definemessagesdefinemessage"},"defineMessages/defineMessage"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"interface MessageDescriptor {\n  id?: string\n  description?: string | object\n  defaultMessage?: string\n}\n\nfunction defineMessages(\n  messageDescriptors: Record<string, MessageDescriptor>\n): Record<string, MessageDescriptor>\n\nfunction defineMessage(messageDescriptor: MessageDescriptor): MessageDescriptor\n")),Object(r.b)("p",null,"These functions is exported by the ",Object(r.b)("inlineCode",{parentName:"p"},"react-intl")," package and is simply a ",Object(r.b)("em",{parentName:"p"},"hook")," for our CLI & babel/TS plugin to use when compiling default messages defined in JavaScript source files. This function simply returns the Message Descriptor map object that's passed-in."),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"import {defineMessages, defineMessage} from 'react-intl'\n\nconst messages = defineMessages({\n  greeting: {\n    id: 'app.home.greeting',\n    description: 'Message to greet the user.',\n    defaultMessage: 'Hello, {name}!',\n  },\n})\n\nconst msg = defineMessage({\n  id: 'single',\n  defaultMessage: 'single message',\n  description: 'header',\n})\n")))}b.isMDXComponent=!0}}]);